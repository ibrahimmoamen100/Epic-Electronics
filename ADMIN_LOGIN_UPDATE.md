# تحديث نظام تسجيل دخول الإدارة

## التغييرات المنجزة

تم تحديث نظام تسجيل دخول الإدارة لاستخدام كلمة مرور بسيطة محفوظة في Firebase بدلاً من نظام المصادقة المعقد السابق.

### 1. كلمة المرور الجديدة
- **كلمة المرور**: `45086932`
- **التخزين**: محفوظة في Firebase Firestore في مجموعة `admin_config`
- **المقارنة**: تتم مقارنة كلمة المرور المدخلة مع المحفوظة في Firebase

### 2. الملفات المحدثة

#### `src/lib/adminAuth.ts`
- إزالة الاعتماد على Firebase Authentication
- تحديث واجهة `AdminCredentials` لإزالة حقل البريد الإلكتروني
- تحديث واجهة `AdminSession` لإزالة `adminId` و `email`
- تحديث دالة `login()` لتستقبل كلمة مرور فقط
- تحديث دالة `initializeAdminConfig()` لإنشاء إعدادات الإدارة

#### `src/components/AdminLogin.tsx`
- إزالة حقل البريد الإلكتروني من النموذج
- تحديث واجهة `AdminLoginProps` لتستقبل كلمة مرور فقط
- تحديث التحقق من صحة البيانات (الحد الأدنى 4 أحرف بدلاً من 6)
- تحديث النصوص والرسائل

#### `src/hooks/useAdminAuth.ts`
- تحديث واجهة `UseAdminAuthReturn` لتستقبل كلمة مرور فقط
- تحديث دالة `login()` لتستقبل كلمة مرور فقط

#### `src/pages/Admin.tsx`
- تحديث دالة `handleLogin()` لتستقبل كلمة مرور فقط
- إزالة المراجع إلى `session.email`
- تحديث عرض معلومات المستخدم في الواجهة

### 3. كيفية العمل

1. **عند أول استخدام**: يتم إنشاء إعدادات الإدارة تلقائياً في Firebase
2. **تسجيل الدخول**: يتم إدخال كلمة المرور `45086932`
3. **التحقق**: تتم مقارنة كلمة المرور مع المحفوظة في Firebase
4. **الجلسة**: يتم إنشاء جلسة آمنة مع رمز مميز
5. **التحقق الدوري**: يتم التحقق من صحة الجلسة كل 30 دقيقة

### 4. الأمان

- كلمة المرور محفوظة في Firebase Firestore
- الجلسات محمية برموز مميزة آمنة
- انتهاء صلاحية الجلسة بعد 24 ساعة
- التحقق الدوري من صحة الجلسة

### 5. الاختبار

تم إنشاء ملف `test-admin-login.js` لاختبار النظام محلياً.

### 6. ملاحظات مهمة

- النظام الجديد أبسط وأسهل في الاستخدام
- لا يتطلب بريد إلكتروني
- كلمة المرور ثابتة: `45086932`
- متوافق مع النظام الحالي لـ Firebase

## كيفية الاستخدام

1. اذهب إلى صفحة الإدارة
2. أدخل كلمة المرور: `45086932`
3. اضغط على "تسجيل الدخول"
4. ستتمكن من الوصول إلى لوحة التحكم

## استكشاف الأخطاء

إذا واجهت مشاكل:
1. تأكد من الاتصال بالإنترنت
2. تحقق من إعدادات Firebase
3. امسح ذاكرة التخزين المؤقت للمتصفح
4. أعد تحميل الصفحة
